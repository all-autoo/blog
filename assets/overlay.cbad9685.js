var le=Object.defineProperty,te=Object.defineProperties;var se=Object.getOwnPropertyDescriptors;var Z=Object.getOwnPropertySymbols;var ne=Object.prototype.hasOwnProperty,ie=Object.prototype.propertyIsEnumerable;var j=(o,a,s)=>a in o?le(o,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):o[a]=s,$=(o,a)=>{for(var s in a||(a={}))ne.call(a,s)&&j(o,s,a[s]);if(Z)for(var s of Z(a))ie.call(a,s)&&j(o,s,a[s]);return o},S=(o,a)=>te(o,se(a));import{b as Y,d as re,f as H,Z as de,z as U,a5 as ce,g as M,cw as ue,o as _,k as L,B as F,s as k,t as b,l as e,C as fe,P as R,p as C,m as V,q as ge,E as pe,a2 as q,n as Q,bJ as me,_ as W,cx as ve,e as ye,aE as X,bb as be,bT as he,S as K,r as w,cy as Ce,cz as ke,j as we,cA as _e,w as G,T as xe,y as Ee,D as ze,ai as J,i as De,G as Ie,cB as Be,u as Te,x as Ae,ag as $e,ah as Se,cC as Fe,cD as Re,a0 as Me,aa as Oe,b_ as Ne,cE as Pe,v as Le}from"./index.a7d776d7.js";import{c as Ve}from"./refs.24712170.js";const ee=Symbol("dialogInjectionKey"),oe=Y({center:{type:Boolean,default:!1},closeIcon:{type:re,default:""},customClass:{type:String,default:""},draggable:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1},showClose:{type:Boolean,default:!0},title:{type:String,default:""}}),qe={close:()=>!0},Ze=["aria-label"],je=["id"],Ue={name:"ElDialogContent"},Ke=H(S($({},Ue),{props:oe,emits:qe,setup(o){const a=o,{t:s}=de(),{Close:d}=ve,{dialogRef:c,headerRef:p,bodyId:x,ns:n,style:i}=U(ee),{focusTrapRef:m}=U(ce),u=Ve(m,c),f=M(()=>a.draggable);return ue(c,p,f),(t,r)=>(_(),L("div",{ref:e(u),class:b([e(n).b(),e(n).is("fullscreen",t.fullscreen),e(n).is("draggable",e(f)),{[e(n).m("center")]:t.center},t.customClass]),style:Q(e(i)),tabindex:"-1",onClick:r[1]||(r[1]=me(()=>{},["stop"]))},[F("header",{ref_key:"headerRef",ref:p,class:b(e(n).e("header"))},[k(t.$slots,"header",{},()=>[F("span",{role:"heading",class:b(e(n).e("title"))},fe(t.title),3)]),t.showClose?(_(),L("button",{key:0,"aria-label":e(s)("el.dialog.close"),class:b(e(n).e("headerbtn")),type:"button",onClick:r[0]||(r[0]=D=>t.$emit("close"))},[R(e(pe),{class:b(e(n).e("close"))},{default:C(()=>[(_(),V(ge(t.closeIcon||e(d))))]),_:1},8,["class"])],10,Ze)):q("v-if",!0)],2),F("div",{id:e(x),class:b(e(n).e("body"))},[k(t.$slots,"default")],10,je),t.$slots.footer?(_(),L("footer",{key:0,class:b(e(n).e("footer"))},[k(t.$slots,"footer")],2)):q("v-if",!0)],6))}}));var Ge=W(Ke,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog-content.vue"]]);const Je=Y(S($({},oe),{appendToBody:{type:Boolean,default:!1},beforeClose:{type:ye(Function)},destroyOnClose:{type:Boolean,default:!1},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:{type:Boolean,required:!0},modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1}})),Ye={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[X]:o=>be(o),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},He=(o,a)=>{const d=ze().emit,{nextZIndex:c}=he();let p="";const x=K(),n=K(),i=w(!1),m=w(!1),u=w(!1),f=w(o.zIndex||c());let t,r;const D=Ce("namespace",ke),O=M(()=>{const g={},A=`--${D.value}-dialog`;return o.fullscreen||(o.top&&(g[`${A}-margin-top`]=o.top),o.width&&(g[`${A}-width`]=we(o.width))),g});function N(){d("opened")}function I(){d("closed"),d(X,!1),o.destroyOnClose&&(u.value=!1)}function P(){d("close")}function B(){r==null||r(),t==null||t(),o.openDelay&&o.openDelay>0?{stop:t}=J(()=>T(),o.openDelay):T()}function E(){t==null||t(),r==null||r(),o.closeDelay&&o.closeDelay>0?{stop:r}=J(()=>l(),o.closeDelay):l()}function z(){function g(A){A||(m.value=!0,i.value=!1)}o.beforeClose?o.beforeClose(g):E()}function v(){o.closeOnClickModal&&z()}function T(){!De||(i.value=!0)}function l(){i.value=!1}function y(){d("openAutoFocus")}function h(){d("closeAutoFocus")}o.lockScroll&&_e(i);function ae(){o.closeOnPressEscape&&z()}return G(()=>o.modelValue,g=>{g?(m.value=!1,B(),u.value=!0,d("open"),f.value=o.zIndex?f.value++:c(),xe(()=>{a.value&&(a.value.scrollTop=0)})):i.value&&E()}),G(()=>o.fullscreen,g=>{!a.value||(g?(p=a.value.style.transform,a.value.style.transform=""):a.value.style.transform=p)}),Ee(()=>{o.modelValue&&(i.value=!0,u.value=!0,B())}),{afterEnter:N,afterLeave:I,beforeLeave:P,handleClose:z,onModalClick:v,close:E,doClose:l,onOpenAutoFocus:y,onCloseAutoFocus:h,onCloseRequested:ae,titleId:x,bodyId:n,closed:m,style:O,rendered:u,visible:i,zIndex:f}},Qe=["aria-label","aria-labelledby","aria-describedby"],We={name:"ElDialog"},Xe=H(S($({},We),{props:Je,emits:Ye,setup(o,{expose:a}){const s=o,d=Ie();Be({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},M(()=>!!d.title));const c=Te("dialog"),p=w(),x=w(),n=w(),{visible:i,titleId:m,bodyId:u,style:f,rendered:t,zIndex:r,afterEnter:D,afterLeave:O,beforeLeave:N,handleClose:I,onModalClick:P,onOpenAutoFocus:B,onCloseAutoFocus:E,onCloseRequested:z}=He(s,p);Ae(ee,{dialogRef:p,headerRef:x,bodyId:u,ns:c,rendered:t,style:f});const v=Pe(P),T=M(()=>s.draggable&&!s.fullscreen);return a({visible:i,dialogContentRef:n}),(l,y)=>(_(),V(Ne,{to:"body",disabled:!l.appendToBody},[R(Oe,{name:"dialog-fade",onAfterEnter:e(D),onAfterLeave:e(O),onBeforeLeave:e(N),persisted:""},{default:C(()=>[$e(R(e(Fe),{"custom-mask-event":"",mask:l.modal,"overlay-class":l.modalClass,"z-index":e(r)},{default:C(()=>[F("div",{role:"dialog","aria-modal":"true","aria-label":l.title||void 0,"aria-labelledby":l.title?void 0:e(m),"aria-describedby":e(u),class:b(`${e(c).namespace.value}-overlay-dialog`),onClick:y[0]||(y[0]=(...h)=>e(v).onClick&&e(v).onClick(...h)),onMousedown:y[1]||(y[1]=(...h)=>e(v).onMousedown&&e(v).onMousedown(...h)),onMouseup:y[2]||(y[2]=(...h)=>e(v).onMouseup&&e(v).onMouseup(...h))},[R(e(Re),{loop:"",trapped:e(i),"focus-start-el":"container",onFocusAfterTrapped:e(B),onFocusAfterReleased:e(E),onReleaseRequested:e(z)},{default:C(()=>[e(t)?(_(),V(Ge,{key:0,ref_key:"dialogContentRef",ref:n,"custom-class":l.customClass,center:l.center,"close-icon":l.closeIcon,draggable:e(T),fullscreen:l.fullscreen,"show-close":l.showClose,style:Q(e(f)),title:l.title,onClose:e(I)},Me({header:C(()=>[l.$slots.title?k(l.$slots,"title",{key:1}):k(l.$slots,"header",{key:0,close:e(I),titleId:e(m),titleClass:e(c).e("title")})]),default:C(()=>[k(l.$slots,"default")]),_:2},[l.$slots.footer?{name:"footer",fn:C(()=>[k(l.$slots,"footer")])}:void 0]),1032,["custom-class","center","close-icon","draggable","fullscreen","show-close","style","title","onClose"])):q("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onReleaseRequested"])],42,Qe)]),_:3},8,["mask","overlay-class","z-index"]),[[Se,e(i)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"]))}}));var eo=W(Xe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog.vue"]]);const to=Le(eo);export{to as E,Ye as a,Je as d,He as u};
