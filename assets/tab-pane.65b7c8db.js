var xe=Object.defineProperty,we=Object.defineProperties;var ye=Object.getOwnPropertyDescriptors;var ee=Object.getOwnPropertySymbols;var Ne=Object.prototype.hasOwnProperty,Te=Object.prototype.propertyIsEnumerable;var te=(e,t,c)=>t in e?xe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:c}):e[t]=c,W=(e,t)=>{for(var c in t||(t={}))Ne.call(t,c)&&te(e,c,t[c]);if(ee)for(var c of ee(t))Te.call(t,c)&&te(e,c,t[c]);return e},Y=(e,t)=>we(e,ye(t));import{b as K,e as A,aj as oe,f as U,z as Q,ac as X,u as j,r as P,w as $,U as Z,aY as L,aZ as ie,o as ne,k as be,t as de,l as S,n as ke,_ as ce,D as J,a_ as ae,a$ as Pe,b0 as ze,g as D,y as _e,b1 as Ce,Q as v,E as M,b2 as Ee,ad as Se,b3 as $e,I as V,ae as ve,x as Be,b4 as Re,s as fe,av as he,h as Oe,a as Ie,b5 as le,G as Le,b6 as se,b7 as Fe,ag as Ae,ah as Me,H as Ve,v as De,F as Ke}from"./index.3bdb25d9.js";const H=Symbol("tabsRootContextKey"),Ue=K({tabs:{type:A(Array),default:()=>oe([])}}),je={name:"ElTabBar"},He=U(Y(W({},je),{props:Ue,setup(e,{expose:t}){const c=e,N="ElTabBar",r=J(),w=Q(H);w||X(N,"<el-tabs><el-tab-bar /></el-tabs>");const p=j("tabs"),b=P(),u=P(),d=()=>{let o=0,z=0;const m=["top","bottom"].includes(w.props.tabPosition)?"width":"height",i=m==="width"?"x":"y";return c.tabs.every(a=>{var g,h,C,B;const R=(h=(g=r.parent)==null?void 0:g.refs)==null?void 0:h[`tab-${a.paneName}`];if(!R)return!1;if(!a.active)return!0;z=R[`client${L(m)}`];const F=i==="x"?"left":"top";o=R.getBoundingClientRect()[F]-((B=(C=R.parentElement)==null?void 0:C.getBoundingClientRect()[F])!=null?B:0);const O=window.getComputedStyle(R);return m==="width"&&(c.tabs.length>1&&(z-=Number.parseFloat(O.paddingLeft)+Number.parseFloat(O.paddingRight)),o+=Number.parseFloat(O.paddingLeft)),!1}),{[m]:`${z}px`,transform:`translate${L(i)}(${o}px)`}},f=()=>u.value=d();return $(()=>c.tabs,async()=>{await Z(),f()},{immediate:!0}),ie(b,()=>f()),t({ref:b,update:f}),(o,z)=>(ne(),be("div",{ref_key:"barRef",ref:b,class:de([S(p).e("active-bar"),S(p).is(S(w).props.tabPosition)]),style:ke(u.value)},null,6))}}));var qe=ce(He,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-bar.vue"]]);const We=K({panes:{type:A(Array),default:()=>oe([])},currentName:{type:[String,Number],default:""},editable:Boolean,onTabClick:{type:A(Function),default:ae},onTabRemove:{type:A(Function),default:ae},type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),re="ElTabNav",Ye=U({name:re,props:We,setup(e,{expose:t}){const c=J(),N=Q(H);N||X(re,"<el-tabs><tab-nav /></el-tabs>");const r=j("tabs"),w=Pe(),p=ze(),b=P(),u=P(),d=P(),f=P(!1),o=P(0),z=P(!1),m=P(!0),i=D(()=>["top","bottom"].includes(N.props.tabPosition)?"width":"height"),a=D(()=>({transform:`translate${i.value==="width"?"X":"Y"}(-${o.value}px)`})),g=()=>{if(!b.value)return;const l=b.value[`offset${L(i.value)}`],n=o.value;if(!n)return;const s=n>l?n-l:0;o.value=s},h=()=>{if(!b.value||!u.value)return;const l=u.value[`offset${L(i.value)}`],n=b.value[`offset${L(i.value)}`],s=o.value;if(l-s<=n)return;const T=l-s>n*2?s+n:l-n;o.value=T},C=async()=>{const l=u.value;if(!f.value||!d.value||!b.value||!l)return;await Z();const n=d.value.querySelector(".is-active");if(!n)return;const s=b.value,T=["top","bottom"].includes(N.props.tabPosition),y=n.getBoundingClientRect(),x=s.getBoundingClientRect(),E=T?l.offsetWidth-x.width:l.offsetHeight-x.height,k=o.value;let _=k;T?(y.left<x.left&&(_=k-(x.left-y.left)),y.right>x.right&&(_=k+y.right-x.right)):(y.top<x.top&&(_=k-(x.top-y.top)),y.bottom>x.bottom&&(_=k+(y.bottom-x.bottom))),_=Math.max(_,0),o.value=Math.min(_,E)},B=()=>{if(!u.value||!b.value)return;const l=u.value[`offset${L(i.value)}`],n=b.value[`offset${L(i.value)}`],s=o.value;if(n<l){const T=o.value;f.value=f.value||{},f.value.prev=T,f.value.next=T+n<l,l-T<n&&(o.value=l-n)}else f.value=!1,s>0&&(o.value=0)},R=l=>{const n=l.code,{up:s,down:T,left:y,right:x}=V;if(![s,T,y,x].includes(n))return;const E=Array.from(l.currentTarget.querySelectorAll("[role=tab]")),k=E.indexOf(l.target);let _;n===y||n===s?k===0?_=E.length-1:_=k-1:k<E.length-1?_=k+1:_=0,E[_].focus(),E[_].click(),F()},F=()=>{m.value&&(z.value=!0)},O=()=>z.value=!1;return $(w,l=>{l==="hidden"?m.value=!1:l==="visible"&&setTimeout(()=>m.value=!0,50)}),$(p,l=>{l?setTimeout(()=>m.value=!0,50):m.value=!1}),ie(d,B),_e(()=>setTimeout(()=>C(),0)),Ce(()=>B()),t({scrollToActiveTab:C,removeFocus:O}),$(()=>e.panes,()=>c.update(),{flush:"post"}),()=>{const l=f.value?[v("span",{class:[r.e("nav-prev"),r.is("disabled",!f.value.prev)],onClick:g},[v(M,null,{default:()=>[v(Ee,null,null)]})]),v("span",{class:[r.e("nav-next"),r.is("disabled",!f.value.next)],onClick:h},[v(M,null,{default:()=>[v(Se,null,null)]})])]:null,n=e.panes.map((s,T)=>{var y,x,E,k;const _=(x=(y=s.props.name)!=null?y:s.index)!=null?x:`${T}`,q=s.isClosable||e.editable;s.index=`${T}`;const ue=q?v(M,{class:"is-icon-close",onClick:I=>e.onTabRemove(s,I)},{default:()=>[v($e,null,null)]}):null,me=((k=(E=s.slots).label)==null?void 0:k.call(E))||s.props.label,ge=s.active?0:-1;return v("div",{ref:`tab-${_}`,class:[r.e("item"),r.is(N.props.tabPosition),r.is("active",s.active),r.is("disabled",s.props.disabled),r.is("closable",q),r.is("focus",z.value)],id:`tab-${_}`,key:`tab-${_}`,"aria-controls":`pane-${_}`,role:"tab","aria-selected":s.active,tabindex:ge,onFocus:()=>F(),onBlur:()=>O(),onClick:I=>{O(),e.onTabClick(s,_,I)},onKeydown:I=>{q&&(I.code===V.delete||I.code===V.backspace)&&e.onTabRemove(s,I)}},[me,ue])});return v("div",{ref:d,class:[r.e("nav-wrap"),r.is("scrollable",!!f.value),r.is(N.props.tabPosition)]},[l,v("div",{class:r.e("nav-scroll"),ref:b},[v("div",{class:[r.e("nav"),r.is(N.props.tabPosition),r.is("stretch",e.stretch&&["top","bottom"].includes(N.props.tabPosition))],ref:u,style:a.value,role:"tablist",onKeydown:R},[e.type?null:v(qe,{tabs:[...e.panes]},null),n])])])}}}),Ge=K({type:{type:String,values:["card","border-card",""],default:""},activeName:{type:[String,Number]},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:A(Function),default:()=>!0},stretch:Boolean}),G=e=>Oe(e)||Ie(e),Qe={[he]:e=>G(e),"tab-click":(e,t)=>t instanceof Event,"tab-change":e=>G(e),edit:(e,t)=>["remove","add"].includes(t),"tab-remove":e=>G(e),"tab-add":()=>!0};var Xe=U({name:"ElTabs",props:Ge,emits:Qe,setup(e,{emit:t,slots:c,expose:N}){var r,w;const p=j("tabs"),b=P(),u=ve({}),d=P((w=(r=e.modelValue)!=null?r:e.activeName)!=null?w:"0"),f=a=>{d.value=a,t(he,a),t("tab-change",a)},o=async a=>{var g,h,C;if(!(d.value===a||le(a)))try{await((g=e.beforeLeave)==null?void 0:g.call(e,a,d.value))!==!1&&(f(a),(C=(h=b.value)==null?void 0:h.removeFocus)==null||C.call(h))}catch{}},z=(a,g,h)=>{a.props.disabled||(o(g),t("tab-click",a,h))},m=(a,g)=>{a.props.disabled||le(a.props.name)||(g.stopPropagation(),t("edit",a.props.name,"remove"),t("tab-remove",a.props.name))},i=()=>{t("edit",void 0,"add"),t("tab-add")};return $(()=>e.activeName,a=>o(a)),$(()=>e.modelValue,a=>o(a)),$(d,async()=>{var a;await Z(),(a=b.value)==null||a.scrollToActiveTab()}),Be(H,{props:e,currentName:d,registerPane:h=>u[h.uid]=h,unregisterPane:h=>delete u[h]}),N({currentName:d}),()=>{const a=e.editable||e.addable?v("span",{class:p.e("new-tab"),tabindex:"0",onClick:i,onKeydown:C=>{C.code===V.enter&&i()}},[v(M,{class:p.is("icon-plus")},{default:()=>[v(Re,null,null)]})]):null,g=v("div",{class:[p.e("header"),p.is(e.tabPosition)]},[a,v(Ye,{ref:b,currentName:d.value,editable:e.editable,type:e.type,panes:Object.values(u),stretch:e.stretch,onTabClick:z,onTabRemove:m},null)]),h=v("div",{class:p.e("content")},[fe(c,"default")]);return v("div",{class:[p.b(),p.m(e.tabPosition),{[p.m("card")]:e.type==="card",[p.m("border-card")]:e.type==="border-card"}]},[...e.tabPosition!=="bottom"?[g,h]:[h,g]])}}});const Ze=K({label:{type:String,default:""},name:{type:[String,Number]},closable:Boolean,disabled:Boolean,lazy:Boolean}),Je=["id","aria-hidden","aria-labelledby"],et={name:"ElTabPane"},tt=U(Y(W({},et),{props:Ze,setup(e){const t=e,c="ElTabPane",N=J(),r=Le(),w=Q(H);w||X(c,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const p=j("tab-pane"),b=P(),u=D(()=>t.closable||w.props.closable),d=se(()=>{var i;return w.currentName.value===((i=t.name)!=null?i:b.value)}),f=P(d.value),o=D(()=>{var i;return(i=t.name)!=null?i:b.value}),z=se(()=>!t.lazy||f.value||d.value);$(d,i=>{i&&(f.value=!0)});const m=ve({uid:N.uid,slots:r,props:t,paneName:o,active:d,index:b,isClosable:u});return _e(()=>{w.registerPane(m)}),Fe(()=>{w.unregisterPane(m.uid)}),(i,a)=>S(z)?Ae((ne(),be("div",{key:0,id:`pane-${S(o)}`,class:de(S(p).b()),role:"tabpanel","aria-hidden":!S(d),"aria-labelledby":`tab-${S(o)}`},[fe(i.$slots,"default")],10,Je)),[[Me,S(d)]]):Ve("v-if",!0)}}));var pe=ce(tt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-pane.vue"]]);const st=De(Xe,{TabPane:pe}),rt=Ke(pe);export{rt as E,st as a};
